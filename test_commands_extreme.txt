mkdir -p redirs
echo "Content A" > redirs/fileA
echo "Content B" > redirs/fileB
export VAR=CHAOS
echo "== LET THE CHAOS BEGIN =="
cat redirs/fileA <<EOF < redirs/fileB | wc | echo $VAR end | cat > redirs/output1.txt
EOF
echo "$VAR and more" | grep CHAOS > redirs/chaos_grep.txt
cat < redirs/chaos_grep.txt | grep C > redirs/pipeout1.txt > redirs/pipeout2.txt
cat <<END | cat | grep $VAR > redirs/heredocpipe.txt
$VAR is powerful
END
pwd | cat > redirs/pwd_out.txt | grep / > redirs/pwd_grep.txt
echo one $VAR | cat | grep one | wc > redirs/final_pipe.txt
echo HELL YES > redirs/chain1.txt > redirs/chain2.txt
cat <<XYZ | grep $VAR | wc > redirs/madness.txt
One $VAR Two
XYZ
export MIDVAR=banana
env | grep MIDVAR | cat | wc > redirs/env_wc.txt
unset MIDVAR
echo "start" "$VAR" end | cat > redirs/mix.txt
cat < redirs/mix.txt | grep end | wc > redirs/check.txt
echo dynamic > redirs/temp1.txt
cat redirs/temp1.txt | grep dyn | wc > redirs/tempcount.txt
export MEGAVAR="oh no"
cat <<LAST | grep oh | wc > redirs/megaout.txt
This is $MEGAVAR
LAST
unset MEGAVAR
cd . | cat > redirs/cd_out.txt
echo "$VAR" | cat <<WOW | grep $VAR | wc > redirs/lastline.txt
$VAR lives here
WOW

echo "== FINAL OUTPUT DUMP FROM redirs/ =="
echo "--- output1.txt ---"
cat redirs/output1.txt
echo "--- chaos_grep.txt ---"
cat redirs/chaos_grep.txt
echo "--- pipeout1.txt ---"
cat redirs/pipeout1.txt
echo "--- pipeout2.txt ---"
cat redirs/pipeout2.txt
echo "--- heredocpipe.txt ---"
cat redirs/heredocpipe.txt
echo "--- pwd_out.txt ---"
cat redirs/pwd_out.txt
echo "--- pwd_grep.txt ---"
cat redirs/pwd_grep.txt
echo "--- final_pipe.txt ---"
cat redirs/final_pipe.txt
echo "--- chain1.txt ---"
cat redirs/chain1.txt
echo "--- chain2.txt ---"
cat redirs/chain2.txt
echo "--- madness.txt ---"
cat redirs/madness.txt
echo "--- env_wc.txt ---"
cat redirs/env_wc.txt
echo "--- mix.txt ---"
cat redirs/mix.txt
echo "--- check.txt ---"
cat redirs/check.txt
echo "--- temp1.txt ---"
cat redirs/temp1.txt
echo "--- tempcount.txt ---"
cat redirs/tempcount.txt
echo "--- megaout.txt ---"
cat redirs/megaout.txt
echo "--- cd_out.txt ---"
cat redirs/cd_out.txt
echo "--- lastline.txt ---"
cat redirs/lastline.txt
exit
