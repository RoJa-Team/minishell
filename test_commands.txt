echo "== VARIABLE EXPANSION =="
export VAR1="hello"
export VAR2=world
echo $VAR1 $VAR2
echo "$VAR1$VAR2"
echo '$VAR1 $VAR2'
export EMPTY=
echo "Empty var: $EMPTY"
unset EMPTY
echo "Unset var: $EMPTY"
echo "Mixed: $VAR1 $UNSET_VAR literal"
export _123=foo
export VAR_="trailing"
export __=doubleunderscore
export VAR_WITH_EQUALS="value=with=equals"
echo $_123 $__ $VAR_ $VAR_WITH_EQUALS
unset VAR1
unset VAR2
echo "After unset: $VAR1 $VAR2"
echo "== EXPORT / UNSET SYNTAX =="
export SINGLE
export MULTI=one MULTI2=two
echo $SINGLE $MULTI $MULTI2
unset SINGLE MULTI2
echo "After unset: $SINGLE $MULTI $MULTI2"
export 123INVALID=value
export FOO-BAR=bad
unset 123INVALID FOO-BAR
echo "== REDIRECTIONS =="
mkdir -p redirs
echo "Line 1" > redirs/redir1.txt
echo "Line 2" >> redirs/redir1.txt
cat redirs/redir1.txt > redirs/redir2.txt
cat < redirs/redir2.txt
> redirs/emptyfile.txt
< redirs/emptyfile.txt wc -l
cat < redirs/doesnotexist.txt
echo "test" > redirs/badredir.txt
echo "abc" > redirs/rfile.txt > redirs/rfile2.txt
cat redirs/rfile.txt redirs/rfile2.txt
echo "== PIPES =="
ls | wc -l
cat test_commands.txt | grep echo | sort | uniq
bash -c 'echo test |'
bash -c '| echo test'
echo left | echo right
echo one | cat | grep one | wc -l
echo "== HEREDOC =="
cat <<EOF > redirs/hd1.txt
this is
a heredoc
EOF
cat redirs/hd1.txt
cat <<EOF2 > redirs/empty_heredoc.txt
EOF2
cat redirs/empty_heredoc.txt
cat <<'NOEXPAND' > redirs/no_expand.txt
$VAR1 should not expand here
NOEXPAND
cat redirs/no_expand.txt
cat <<EXPAND > redirs/do_expand.txt
$VAR1 is gone now
EXPAND
cat redirs/do_expand.txt
echo "== QUOTING TESTS =="
echo 'single quoted $VAR1'
echo '$PATH' > redirs/single_quoted.txt
cat redirs/single_quoted.txt
echo "double quoted $VAR1"
echo "'$VAR1'"
echo "quoted > output" > "redirs/redir with space.txt"
cat "redirs/redir with space.txt"
echo "test with space" | grep "with"
cat redirs/literal_command.txt
echo "== COMBO TESTS =="
export COMBO=42
echo "$COMBO" | cat > redirs/combo_out.txt
cat < redirs/combo_out.txt | grep 42
unset COMBO
